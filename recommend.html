{% extends "base.html" %}
{% block content %}

<section class="card card--glass">
  <div class="card__header card__header--row">
    <div>
      <h2 class="card__title">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
      <p class="card__subtitle">–ü–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –∞–≤—Ç–æ–º–æ–±–∏–ª—é</p>
    </div>
    <a class="btn btn-ghost" href="{{ url_for('index') }}">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
  </div>

  <div class="highlight">
    <div class="highlight__main">
      <div class="highlight__title">{{ car.brand }} {{ car.model }} ({{ car.year }})</div>
      <div class="highlight__meta">
        <span class="chip chip--soft">{{ car.body_type }}</span>
        <span class="chip chip--soft">{{ car.fuel_type }}</span>
        <span class="chip chip--soft">{{ car.drive_type }}</span>
        <span class="chip chip--soft">{{ car.transmission }}</span>
        <span class="chip chip--soft">{{ car.horsepower }} –ª.—Å.</span>
      </div>
    </div>
    <div class="highlight__price">
      <div class="muted">–¶–µ–Ω–∞</div>
      <div class="price">{{ car.price_usd }} $</div>
      <a class="btn btn-sm btn-outline" href="{{ url_for('add_favorite', car_id=car.id) }}">‚òÖ –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
    </div>
  </div>
</section>

<section class="grid-2">
  <div class="card">
    <div class="card__header">
      <h3 class="card__title">–ü–æ—Ö–æ–∂–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏</h3>
      <p class="card__subtitle">–ü—Ä–∞–≤–∏–ª–æ: –º–∞—Ä–∫–∞ + –∫—É–∑–æ–≤, –≥–æ–¥ ¬±1, –º–æ—â–Ω–æ—Å—Ç—å ¬±20%</p>
    </div>

    {% if similar_cars %}
    <div class="table-wrap">
      <table class="table table--compact">
        <thead>
          <tr><th>–ú–∞—Ä–∫–∞</th><th>–ú–æ–¥–µ–ª—å</th><th>–ì–æ–¥</th><th>–ú–æ—â–Ω–æ—Å—Ç—å</th><th>–¶–µ–Ω–∞</th></tr>
        </thead>
        <tbody>
          {% for c in similar_cars %}
          <tr class="row-anim">
            <td><span class="pill">{{ c.brand }}</span></td>
            <td>{{ c.model }}</td>
            <td>{{ c.year }}</td>
            <td>{{ c.horsepower }}</td>
            <td><b>{{ c.price_usd }}</b></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="empty empty--small">
      <div class="empty__icon">üß©</div>
      <div class="empty__title">–ù–µ—Ç –ø–æ—Ö–æ–∂–∏—Ö</div>
      <div class="empty__text">–ü–æ–ø—Ä–æ–±—É–π –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å.</div>
    </div>
    {% endif %}
  </div>

  <div class="card">
    <div class="card__header">
      <h3 class="card__title">–í —ç—Ç–æ–º –∂–µ —Ü–µ–Ω–æ–≤–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ</h3>
      <p class="card__subtitle">–ü—Ä–∞–≤–∏–ª–æ: —Ü–µ–Ω–∞ ¬±10%</p>
    </div>

    {% if price_range_cars %}
    <div class="table-wrap">
      <table class="table table--compact">
        <thead>
          <tr><th>–ú–∞—Ä–∫–∞</th><th>–ú–æ–¥–µ–ª—å</th><th>–ì–æ–¥</th><th>–ú–æ—â–Ω–æ—Å—Ç—å</th><th>–¶–µ–Ω–∞</th></tr>
        </thead>
        <tbody>
          {% for c in price_range_cars %}
          <tr class="row-anim">
            <td><span class="pill">{{ c.brand }}</span></td>
            <td>{{ c.model }}</td>
            <td>{{ c.year }}</td>
            <td>{{ c.horsepower }}</td>
            <td><b>{{ c.price_usd }}</b></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="empty empty--small">
      <div class="empty__icon">üí∏</div>
      <div class="empty__title">–ù–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</div>
      <div class="empty__text">–í –¥–∞—Ç–∞—Å–µ—Ç–µ –Ω–µ—Ç –∞–≤—Ç–æ –≤ —ç—Ç–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ.</div>
    </div>
    {% endif %}
  </div>
</section>

{% endblock %}
